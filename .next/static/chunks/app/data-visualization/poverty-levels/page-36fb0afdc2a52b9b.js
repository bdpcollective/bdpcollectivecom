(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[918],{1924:function(e,t,a){Promise.resolve().then(a.bind(a,9667))},9667:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(7437),n=a(7648),s=a(2265),o=a(6400);function i(e){return e}function l(e,t){var a=t.id,r=t.bbox,n=null==t.properties?{}:t.properties,s=function(e,t){var a=function(e){if(null==e)return i;var t,a,r=e.scale[0],n=e.scale[1],s=e.translate[0],o=e.translate[1];return function(e,i){i||(t=a=0);var l=2,c=e.length,d=Array(c);for(d[0]=(t+=e[0])*r+s,d[1]=(a+=e[1])*n+o;l<c;)d[l]=e[l],++l;return d}}(e.transform),r=e.arcs;function n(e){return a(e)}function s(e){for(var t=[],n=0,s=e.length;n<s;++n)!function(e,t){t.length&&t.pop();for(var n=r[e<0?~e:e],s=0,o=n.length;s<o;++s)t.push(a(n[s],s));e<0&&function(e,t){for(var a,r=e.length,n=r-t;n<--r;)a=e[n],e[n++]=e[r],e[r]=a}(t,o)}(e[n],t);return t.length<2&&t.push(t[0]),t}function o(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(o)}return function e(t){var a,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":a=n(t.coordinates);break;case"MultiPoint":a=t.coordinates.map(n);break;case"LineString":a=s(t.arcs);break;case"MultiLineString":a=t.arcs.map(s);break;case"Polygon":a=l(t.arcs);break;case"MultiPolygon":a=t.arcs.map(l);break;default:return null}return{type:r,coordinates:a}}(t)}(e,t);return null==a&&null==r?{type:"Feature",properties:n,geometry:s}:null==r?{type:"Feature",id:a,properties:n,geometry:s}:{type:"Feature",id:a,bbox:r,properties:n,geometry:s}}function c(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{(async()=>{try{var t,a;console.log("Fetching data...");let r=await fetch("/data/counties-10m.json");if(!r.ok)throw Error("Failed to fetch GeoJSON: ".concat(r.statusText));let n=await r.json(),s=(a=n.objects.counties,"string"==typeof a&&(a=n.objects[a]),"GeometryCollection"===a.type?{type:"FeatureCollection",features:a.geometries.map(function(e){return l(n,e)})}:l(n,a)),i=new Map([["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]]),c=new Map(Array.from(i.entries()).map(e=>{let[t,a]=e;return[a,t]})),d=await fetch("/data/Poverty2023.csv");if(!d.ok)throw Error("Failed to fetch poverty data: ".concat(d.statusText));let u=await d.text(),m=o.ueB(u),f=[],p=new Set;s.features.forEach(e=>{let t=e.properties;if(!t)return;let a=e.id,r=a.substring(0,2),n=c.get(r)||"",s=t.name||"",o=m.find(e=>e.FIPS_Code.padStart(5,"0")===a&&"PCTPOVALL_2023"===e.Attribute),i=o?parseFloat(o.Value):0;o||p.add(r),f.push({id:a,name:"".concat(s,", ").concat(n),value:isNaN(i)?0:i})}),console.log("Missing states:",Array.from(p)),console.log("Sample of poverty data:",m.slice(0,5));let h=new Map(f.map(e=>[e.id,e.value]));if(!e.current){console.error("SVG ref not available");return}o.Ys(e.current).selectAll("*").remove();let x=(null===(t=e.current.parentElement)||void 0===t?void 0:t.clientWidth)||900,g={top:40,right:40,bottom:40,left:40},y=x-g.left-g.right,b=800-g.top-g.bottom,v=o.Ys(e.current).attr("width","100%").attr("height",b+g.top+g.bottom).append("g").attr("transform","translate(".concat(g.left,",").concat(g.top,")")),N=o.wk1().fitSize([y,b],s),w=o.l49().projection(N),j=f.map(e=>e.value).filter(e=>e>0&&!isNaN(e)),k=o.FTZ().domain(j).range(["#f7fbff","#c6dbef","#6baed6","#2171b5","#08306b"]),M=v.append("g").selectAll("path").data(s.features).join("path").attr("d",w).attr("fill",e=>{let t=h.get(e.id);return t?k(t):"none"}).attr("stroke","#9E9E9E").attr("stroke-width",.5).attr("opacity",.8).style("vector-effect","non-scaling-stroke"),A=o.Ys("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background-color","white").style("border","1px solid #ddd").style("border-radius","4px").style("padding","10px").style("pointer-events","none").style("box-shadow","0 2px 4px rgba(0,0,0,0.1)").style("font-family","sans-serif").style("font-size","12px").style("line-height","1.4");M.on("mouseover",function(e,t){let a=h.get(t.id),r=t.properties;o.Ys(this).attr("opacity",1).attr("stroke-width",1),A.transition().duration(200).style("opacity",.9);let n=(null==r?void 0:r.name)||"Unknown County",s=t.id.substring(0,2);c.get(s);let i=m.find(e=>e.FIPS_Code.padStart(5,"0")===t.id);A.html('\n              <div style="font-weight: bold;">'.concat(n,'</div>\n              <div style="color: #666; margin-bottom: 4px;">').concat(c.get((null==i?void 0:i.Stabr)||"")||s,'</div>\n              <div style="color: #666;">\n                ').concat(a?"Poverty Rate: ".concat(a.toFixed(1),"%"):"No data","\n              </div>\n            ")).style("left",e.pageX+10+"px").style("top",e.pageY-28+"px")}).on("mouseout",function(){o.Ys(this).attr("opacity",.8).attr("stroke-width",.5),A.transition().duration(500).style("opacity",0)})}catch(t){console.error("Error creating chart:",t),e.current&&o.Ys(e.current).append("text").attr("x","50%").attr("y","50%").attr("text-anchor","middle").attr("fill","red").text("Error loading data: ".concat(t instanceof Error?t.message:"Unknown error"))}})()},[]),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("svg",{ref:e,className:"w-full",style:{minHeight:"800px"}})})})}function d(){return(0,r.jsxs)("main",{children:[(0,r.jsx)("section",{className:"relative h-[25vh] bg-black pt-16",children:(0,r.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-4",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-normal mb-4 text-white text-center font-['var(--font-noto-serif)']",children:"Poverty Levels by County"}),(0,r.jsx)("p",{className:"text-lg md:text-xl text-gray-300 mb-4 max-w-2xl mx-auto text-center",children:"Interactive map showing poverty rates across US counties"})]})}),(0,r.jsxs)("section",{className:"container mx-auto px-4 py-20",children:[(0,r.jsxs)(n.default,{href:"/data-visualization",className:"inline-flex items-center text-gray-600 hover:text-[#E41E3F] transition-colors mb-8",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Data Visualization"]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"US County Poverty Rates | 2023"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-[#f7fbff] border border-gray-300 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Lowest"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-[#c6dbef] border border-gray-300 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Low"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-[#6baed6] border border-gray-300 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Medium"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-[#2171b5] border border-gray-300 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"High"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-[#08306b] border border-gray-300 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Highest"})]})]})]}),(0,r.jsx)(c,{})]})]})]})}}},function(e){e.O(0,[972,351,971,117,744],function(){return e(e.s=1924)}),_N_E=e.O()}]);